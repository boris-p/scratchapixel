<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1871.5658569335938 1130.7773066929412" width="3743.1317138671875" height="2261.5546133858825">
  <!-- svg-source:excalidraw -->
  
  <defs>
    <style>
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  <rect x="0" y="0" width="1871.5658569335938" height="1130.7773066929412" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(544.8438916887549 212.16136169433594) rotate(0 70.09140014648438 36.05123901367186)"><path d="M1.03 0.14 C45.68 -0.03, 87.63 -0.7, 140.96 1.5 M-0.14 0.04 C40.21 0.73, 82.57 0.59, 140.35 0 M138.95 0.72 C142.21 21.24, 138.64 41.46, 140.28 71.35 M139.76 -0.86 C140.49 28.19, 140.72 57.18, 139.72 71.61 M140.94 71.79 C90.95 69.62, 43.9 69.68, -0.11 71.09 M140.88 72.52 C89.06 73.18, 38.92 73.47, -0.38 71.57 M0.49 72.15 C0.91 45.15, 1.98 22.13, -0.28 1.49 M0.87 72.53 C1.09 56.3, 1.06 42.29, 0.9 -0.13" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(566.5547071184424 221.72969055175778) rotate(0 41 25)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">api </text><text x="0" y="43" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">gateway</text></g><g stroke-linecap="round" transform="translate(383.34663496259714 242.32292175292966) rotate(0 9.035918190967038 10.24222464971075)"><path d="M10.23 -0.93 C13.71 3.7, 16.32 8.51, 17.52 12.1 M9.97 -0.46 C11.57 2.1, 13.82 4.37, 17.9 10.37 M17.86 11.29 C16.72 13.07, 13.74 15.88, 9.04 21.05 M18.25 10.63 C16.08 13.85, 14.28 16.14, 10.3 21.08 M9.52 20.22 C6.48 18.12, 2.75 12.54, 0.61 11.08 M10.26 20.3 C6.92 17.55, 3.45 14.92, -0.54 11.69 M-1.31 10.46 C3.32 7.05, 6.45 3.53, 9.49 -0.57 M0 11.31 C1.86 8.38, 4.57 6.16, 10.51 0.6" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-linecap="round"><g transform="translate(391.76158260183706 268.48666944958495) rotate(0 -0.34721828055180026 31.277215971795044)"><path d="M0.34 -0.71 C0.29 9.67, 0.08 52.66, 0.15 63.27 M-0.94 1.53 C-1.17 11.47, -0.94 50.99, -0.72 61.46" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(392.14034215025873 326.9975921256105) rotate(0 -8.907158580558331 14.140888867126364)"><path d="M-0.11 0.71 C-3.09 5.53, -14.95 23.62, -17.7 28.25 M-1.63 0.03 C-4.26 4.55, -12.91 21.96, -15.55 26.38" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(393.3098600947917 329.2917666994746) rotate(0 6.787130520096497 12.654412143361895)"><path d="M0.73 1.19 C2.97 5.25, 11.58 19.36, 13.92 23.22 M-0.34 0.76 C1.67 5.1, 10.35 20.94, 12.78 24.54" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(405.88393075125487 267.1602353794567) rotate(0 -26.54736507048557 17.8602322046236)"><path d="M-17.91 0.08 C-21.13 4.03, -36.15 18.14, -36.99 24 C-37.83 29.86, -25.32 33.23, -22.94 35.23 M-16.1 -0.92 C-18.91 2.67, -33.48 16.01, -34.81 22.27 C-36.13 28.53, -26.07 34.7, -24.05 36.64" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(395.6261134563357 274.2388042697937) rotate(0 10.294081028901786 13.358926210226116)"><path d="M1.03 -0.7 C1.91 2.58, 2.17 14.47, 5.41 18.93 C8.65 23.4, 18.01 24.75, 20.48 26.11 M0.11 1.55 C0.86 4.51, 1.35 12.63, 4.62 16.94 C7.89 21.25, 17.1 26.06, 19.72 27.42" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(411.27260262625487 283.83766174316406) rotate(0 60.220614187782616 -16.003494008731053)"><path d="M-1.1 1.12 C12.82 -4.27, 62.28 -26.36, 82.33 -31.38 C102.39 -36.41, 112.86 -29.21, 119.24 -29.01 M0.53 0.66 C14.95 -4.65, 64.55 -24.88, 84.72 -30.12 C104.88 -35.36, 115.49 -30.96, 121.54 -30.79" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(411.27260262625487 283.83766174316406) rotate(0 60.220614187782616 -16.003494008731053)"><path d="M105 -27.78 C106.11 -29.2, 112.27 -27.88, 121.41 -29.08 M102.65 -27.16 C110.98 -27.75, 117.71 -30.34, 121.67 -30.55" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(411.27260262625487 283.83766174316406) rotate(0 60.220614187782616 -16.003494008731053)"><path d="M106.71 -40.46 C107.57 -39.35, 113.4 -35.46, 121.41 -29.08 M104.37 -39.84 C112.04 -35.58, 118.12 -33.32, 121.67 -30.55" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round" transform="translate(341.731861659458 10) rotate(0 50.25950622558594 60.72404479980469)"><path d="M1.17 1.81 C33.93 -2.36, 62.53 -1.38, 102.5 -0.71 M0.35 0.66 C37.55 1.01, 75.97 1.02, 100.22 -0.86 M101.59 1.83 C102.97 37.49, 99.77 72.37, 100.76 122.41 M99.59 0.8 C100.23 25.92, 100.77 50.75, 100.62 121.39 M99.17 121.68 C75.63 119.31, 48.78 121.45, -0.46 122.22 M99.56 121.27 C61.89 122.52, 24.5 122.65, 0.53 122.15 M-0.06 120.79 C-1.31 84.97, 0.42 47.42, -0.38 0 M0.05 120.68 C-0.99 86.15, -0.82 51.65, 0.77 0.31" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(373.7546888078955 43.1849365234375) rotate(0 17 25)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">scm</text><text x="0" y="43" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text></g><g stroke-linecap="round"><g transform="translate(449.91786629812987 84.87705993652344) rotate(0 43.41840983591976 73.90690538688354)"><path d="M-1.04 -0.31 C6.12 22.76, 28.78 113.51, 43.6 137.24 C58.43 160.98, 80.34 141.31, 87.88 142.12 M0.61 -1.52 C7.63 21.83, 28.69 114.97, 43.08 138.6 C57.48 162.23, 79.26 140.03, 86.99 140.26" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(449.91786629812987 84.87705993652344) rotate(0 43.41840983591976 73.90690538688354)"><path d="M69.43 156.69 C75.51 149.77, 83.62 146.07, 88.47 138.31 M70.75 154.43 C76.31 149.58, 81.53 143.75, 86.48 140.92" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(449.91786629812987 84.87705993652344) rotate(0 43.41840983591976 73.90690538688354)"><path d="M63.74 142.21 C71.67 140.43, 81.78 141.82, 88.47 138.31 M65.06 139.96 C72.68 140.24, 79.93 139.59, 86.48 140.92" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round" transform="translate(749.9141431535986 109.26914978027344) rotate(0 51.199798583984375 57.84767150878905)"><path d="M-0.29 0.05 C34.64 0.81, 66.8 -0.71, 103.35 -1.66 M0.27 -0.08 C37.87 0.33, 74.24 0.89, 103 -0.08 M100.89 -1.45 C102.62 23.5, 102.3 45.08, 101.65 116.43 M102.51 -0.69 C103.41 45.91, 103.96 93.05, 102.65 115.09 M101.82 113.88 C75.79 117.62, 50.88 116.16, -0.55 117.67 M101.41 114.83 C75.53 115.04, 48.21 116.51, 0.85 115.58 M0.99 116.01 C-0.69 91.6, 0.68 66.05, -0.83 1.18 M0.07 116.21 C0.1 72.97, 1.14 30.84, -0.65 0.51" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-linecap="round"><g transform="translate(694.1699414934424 241.15016174316403) rotate(0 23.1387505535036 -15.730188954495134)"><path d="M-0.59 0.79 C7.4 -4.43, 39.18 -25.09, 46.86 -30.67 M1.31 0.16 C9.33 -5.44, 39.31 -26.91, 46.54 -32.25" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(694.1699414934424 241.15016174316403) rotate(0 23.1387505535036 -15.730188954495134)"><path d="M32.29 -7.24 C35.88 -14.3, 35.87 -19.11, 45.7 -31.26 M31.28 -8.75 C35.56 -16, 41.6 -24.51, 46.84 -32.18" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(694.1699414934424 241.15016174316403) rotate(0 23.1387505535036 -15.730188954495134)"><path d="M21.13 -22.64 C27.19 -26.35, 29.57 -27.87, 45.7 -31.26 M20.12 -24.15 C27.86 -26.6, 37.43 -30.25, 46.84 -32.18" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(755.1139431535986 142.11682128906247) rotate(0 46 25)"><text x="46" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">scm </text><text x="46" y="43" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">service</text></g><g stroke-linecap="round" transform="translate(1353.7984476240845 338.8834431966146) rotate(0 70.06103515625 56.932884216308594)"><path d="M82.26 0.9 C92.8 1.39, 104.61 5.4, 113.07 10.57 C121.52 15.74, 128.34 23.78, 133 31.93 C137.66 40.08, 141.43 50.67, 141.02 59.48 C140.62 68.29, 136.03 77.2, 130.55 84.79 C125.06 92.39, 117.16 100.09, 108.11 105.06 C99.05 110.02, 87.15 113.93, 76.22 114.6 C65.29 115.27, 52.66 112.83, 42.52 109.08 C32.39 105.34, 22.4 98.94, 15.44 92.12 C8.48 85.3, 2.73 76.54, 0.76 68.17 C-1.2 59.8, 0.42 50.26, 3.65 41.89 C6.88 33.51, 12.64 24.29, 20.14 17.94 C27.64 11.58, 36.89 6.19, 48.63 3.74 C60.38 1.29, 82.21 2.83, 90.6 3.24 C98.99 3.64, 99.26 5.45, 98.99 6.17 M92.6 4.8 C102.33 6.74, 112.9 11.07, 120.28 17.4 C127.65 23.73, 133.7 33.98, 136.85 42.76 C140 51.55, 141.21 61.51, 139.18 70.11 C137.15 78.71, 131.61 87.88, 124.66 94.38 C117.72 100.88, 107.67 106.04, 97.51 109.12 C87.35 112.19, 74.48 113.63, 63.68 112.82 C52.88 112.01, 41.88 108.95, 32.71 104.26 C23.54 99.56, 13.98 92.4, 8.65 84.66 C3.32 76.92, 0.7 66.77, 0.72 57.81 C0.74 48.86, 4.04 38.77, 8.78 30.96 C13.52 23.14, 20.67 15.79, 29.16 10.95 C37.66 6.1, 49.22 2.95, 59.78 1.88 C70.34 0.81, 86.77 4.2, 92.5 4.51 C98.23 4.82, 94.22 3.03, 94.15 3.73" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1358.8594476240846 383.3163274129232) rotate(0 65 12.5)"><text x="65" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">postgres</text></g><g stroke-linecap="round" transform="translate(1124.2397589305085 115.00171407063803) rotate(0 50.96673583984375 110.23387145996094)"><path d="M0.6 -1.33 C33.54 -0.21, 69.83 0.97, 102.13 -1.5 M0.92 -0.4 C29.07 0.67, 60.16 -0.7, 102.61 0.76 M100.62 -0.2 C101.14 77.21, 99.93 154.98, 101.69 221.35 M102.42 -0.43 C103.15 81.32, 104.13 164.12, 102.52 220.91 M103.02 219.49 C65.43 222.79, 33.32 223.21, 1.25 220.02 M100.98 220.91 C72.74 221.63, 41.33 220.74, -0.96 219.66 M1.68 218.93 C1.75 167.62, 1.29 116.81, -1.31 1.34 M0 219.68 C1.71 145.98, 1.98 70.64, 0.12 0.03" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1162.0798739478696 206.3625267876519) rotate(0 17 12.5)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">sqs</text></g><g stroke-linecap="round"><g transform="translate(863.0186353410987 183.6747927143679) rotate(0 125.53927514044676 28.067718343239846)"><path d="M0.74 -0.87 C18.87 8.94, 67.64 59.13, 109.42 58.61 C151.2 58.08, 227.63 6.36, 251.42 -4.01 M-0.34 1.29 C17.59 11.33, 66.64 60.83, 108.49 60.15 C150.34 59.47, 226.69 7.64, 250.75 -2.78" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(863.0186353410987 183.6747927143679) rotate(0 125.53927514044676 28.067718343239846)"><path d="M229.38 19.69 C237.9 11.96, 244.62 5.29, 251.13 -4.56 M230.14 20.06 C234.59 14.07, 238.82 11.12, 251.17 -3.68" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(863.0186353410987 183.6747927143679) rotate(0 125.53927514044676 28.067718343239846)"><path d="M219.63 1.64 C231.54 0.2, 241.7 -0.11, 251.13 -4.56 M220.39 2 C226.92 -0.16, 233.21 0.71, 251.17 -3.68" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(938.1503492082861 198.61866760253903) rotate(0 35.5 12.5)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">pr/push</text></g><g stroke-linecap="round" transform="translate(757.918873378208 345.86029052734375) rotate(0 51.199798583984375 57.84767150878906)"><path d="M-1.52 -0.95 C38.2 0.65, 80.1 -0.78, 100.51 0.5 M0.09 -0.62 C28.04 -1.15, 54.78 -1.02, 102.72 -0.15 M102.31 1.39 C101.32 36.43, 103.42 74.13, 102.17 116.75 M102.67 -0.98 C102 39.57, 103.59 78.88, 101.98 114.91 M102.55 114.35 C70.14 114.66, 38.99 113.44, 1 117.15 M101.63 115.35 C79.63 116.89, 57.21 116.38, -0.14 116.35 M-0.57 115.96 C-0.02 70.76, -0.05 29.5, -0.46 -0.77 M0.95 116.39 C-0.03 92.99, -0.06 69.2, 0.76 0.9" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(763.118673378208 378.7079620361328) rotate(0 46 25)"><text x="46" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">scanner</text><text x="46" y="43" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">service</text></g><g stroke-linecap="round"><g transform="translate(879.3300977434424 368.65797424316406) rotate(0 115.00741593333146 -51.71020009952289)"><path d="M-0.85 0.93 C19.16 -12.39, 81.57 -61.48, 120.19 -79.02 C158.81 -96.57, 212.69 -100.17, 230.86 -104.35 M0.91 0.37 C21.29 -12.83, 84.21 -60.27, 122.51 -77.49 C160.81 -94.7, 212.91 -98.09, 230.7 -102.91" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(879.3300977434424 368.65797424316406) rotate(0 115.00741593333146 -51.71020009952289)"><path d="M206.35 -89.02 C212.79 -90.42, 221.29 -97.86, 231.54 -102.83 M205.67 -88.16 C210.94 -91.95, 216.43 -95.66, 231.36 -102.53" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(879.3300977434424 368.65797424316406) rotate(0 115.00741593333146 -51.71020009952289)"><path d="M202.68 -109.21 C210.42 -104.26, 220.07 -105.39, 231.54 -102.83 M202 -108.35 C208 -107.37, 214.36 -106.27, 231.36 -102.53" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(913.8079419817236 283.57667541503906) rotate(0 92.5 12.5)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">pull/push messages</text></g><g stroke-linecap="round"><g transform="translate(757.0968824114111 464.6646270751953) rotate(0 -133.1171720089917 82.46537401014939)"><path d="M0.89 0.11 C-34.54 8.49, -167.66 22.53, -212.17 50.03 C-256.67 77.52, -257.04 145.67, -266.12 165.07 M-0.1 -0.88 C-35.65 7.71, -168.15 23.63, -212.65 51.42 C-257.16 79.2, -258.08 146.45, -267.13 165.81" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(757.0968824114111 464.6646270751953) rotate(0 -133.1171720089917 82.46537401014939)"><path d="M-269.72 137.41 C-269.51 145.23, -269.91 154.42, -266.76 165.48 M-270.57 136.29 C-269.63 143.4, -269.2 148.87, -267.38 165.18" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(757.0968824114111 464.6646270751953) rotate(0 -133.1171720089917 82.46537401014939)"><path d="M-249.87 142.62 C-256.34 148.83, -263.43 156.26, -266.76 165.48 M-250.72 141.49 C-254.32 147.44, -258.43 151.72, -267.38 165.18" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(423.3864135742183 638.5870513916016) rotate(0 87.5 17.5)"><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="28px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">Scanner logic</text></g><g stroke-linecap="round" transform="translate(205.89639282226517 704.0081024169922) rotate(0 110.08381652832031 25.73028564453125)"><path d="M-1.45 1.61 C80.27 -0.6, 156.92 -1.42, 220.51 0.26 M0.26 0.49 C50.08 -2.43, 99.69 -1.36, 220.33 0.78 M218.75 -0.81 C220.11 19.2, 222.37 38.39, 219.89 51.59 M219.35 0.19 C220.29 12.61, 219.94 24.67, 219.61 50.65 M219.42 51.92 C134.96 51.07, 50.45 52.88, -1.5 51.49 M219.32 50.84 C139.23 50.64, 57.07 51.64, 0.46 51.66 M0.33 51.42 C-0.18 37.69, 0.48 26.06, 0.03 -1.93 M0.7 50.91 C-0.47 31.94, 1.16 13.23, -0.13 0.02" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(261.08569335937455 721.8043060302734) rotate(0 54 12.5)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">clone repo*</text></g><g transform="translate(67.48837280273392 783.8687286376953) rotate(0 246.5 40)"><text x="0" y="14" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">* here can optimize the process by cloning only parts </text><text x="0" y="34" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">of the repo and exclude history but we do need to get </text><text x="0" y="54" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">the clone and not rely just on the changed data because we </text><text x="0" y="74" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">need the context of the change, not just the change itself</text></g><g stroke-linecap="round" transform="translate(725.0223846435542 703.9472198486328) rotate(0 110.08381652832031 25.73028564453125)"><path d="M1.49 0.58 C53.16 1.27, 107.17 1.38, 219.97 -1.49 M-0.39 -0.18 C74.52 2.24, 147.29 1.73, 219.49 0.65 M220.21 -1.78 C218.07 13.04, 220.54 30.63, 221.35 51.2 M219.99 0.77 C220.93 16.98, 220.65 32.3, 220.95 51.96 M221.32 50.97 C165.56 52.03, 112.68 52.39, -1.72 49.93 M221.02 52.15 C171.81 53.15, 122.83 52.15, -0.22 51.25 M0.73 52.17 C-1.43 32.43, 1.73 18.38, 0.95 1.25 M-0.71 51.25 C0.12 38.69, -1.15 27.07, 0.44 0.82" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1077.7937774658199 712.7072296142578) rotate(0 178.5 12.5)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">traverse changes and run scanners*</text></g><g stroke-linecap="round"><g transform="translate(431.5974731445308 725.0146168969443) rotate(0 145.47237374149265 1.1203852398148797)"><path d="M-0.4 -0.76 C48.31 -0.07, 242.88 2.52, 291.35 3 M1.59 1.45 C50.32 1.94, 242.91 1.12, 290.93 1.48" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(431.5974731445308 725.0146168969443) rotate(0 145.47237374149265 1.1203852398148797)"><path d="M261.46 13.39 C270.96 9.67, 275.72 7.01, 289.59 0.13 M262.12 11.71 C271.22 7.75, 281.76 5.29, 290.34 1.4" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(431.5974731445308 725.0146168969443) rotate(0 145.47237374149265 1.1203852398148797)"><path d="M261.48 -7.13 C270.78 -6.31, 275.54 -4.44, 289.59 0.13 M262.14 -8.81 C271.32 -5.84, 281.85 -1.36, 290.34 1.4" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(1028.4502563476558 771.1023101806641) rotate(0 235 100)"><text x="0" y="14" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">* because these are heavy operations relating to the file </text><text x="0" y="34" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">system we want to do as little of them as possible so</text><text x="0" y="54" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">get changed files and the changes per commit once, </text><text x="0" y="74" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">register all scanners and run them when triggered.</text><text x="0" y="94" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="114" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">Scanners produce an object with changes and if they </text><text x="0" y="134" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">were added/removed. Save object in redis to retrieve </text><text x="0" y="154" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">in case service goes down and we restart the process - </text><text x="0" y="174" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">don't start from beginning</text><text x="0" y="194" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text></g><g stroke-linecap="round" transform="translate(1066.7750701904292 701.8399200439453) rotate(0 188.7014923095703 23.915283203125)"><path d="M0.11 0.16 C139.9 -0.85, 277.75 -1.1, 376.66 0.51 M-0.6 -0.46 C119.95 -0.5, 238.41 -0.53, 377.98 -0.34 M377.13 0.43 C375.25 14.59, 375.49 28.51, 379.26 46.3 M376.83 0.05 C376.9 11.67, 376.78 24.9, 376.53 47.82 M377.66 47.24 C229.6 47.84, 80.74 48.86, -0.35 47.37 M377.4 47.3 C245.77 48.92, 113.77 49.65, 0.54 47.97 M-1.35 49.24 C-0.1 33.62, 1.86 18.89, 1.93 1.11 M0.71 47.35 C0.47 33.16, 0.01 16.57, -0.93 0.83" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(740.4318847656245 717.1385040283203) rotate(0 90 12.5)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">register scanners*</text></g><g transform="translate(741.4029235839839 773.4198760986328) rotate(0 80.5 10)"><text x="0" y="14" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">*based on file types</text></g><g stroke-linecap="round"><g transform="translate(949.2204895019527 720.6359405517578) rotate(0 53.00071914115921 1.5456085014715768)"><path d="M0.3 0.66 C18.21 1.19, 89.46 1.6, 107 2.17 M-1 -0.03 C16.89 0.68, 89.06 2.75, 106.66 3.12" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(949.2204895019527 720.6359405517578) rotate(0 53.00071914115921 1.5456085014715768)"><path d="M79.32 14.57 C83.86 9.54, 94.52 8.35, 107.57 2.95 M78.81 13.2 C88.51 9.52, 98.82 4.71, 106.29 4.02" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(949.2204895019527 720.6359405517578) rotate(0 53.00071914115921 1.5456085014715768)"><path d="M79.85 -5.94 C84.08 -5.61, 94.61 -1.44, 107.57 2.95 M79.34 -7.32 C89.01 -3.31, 99.13 -0.43, 106.29 4.02" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(1588.135147094726 711.5210723876953) rotate(0 63 12.5)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">save results</text></g><g stroke-linecap="round" transform="translate(1571.4325408935542 700.1942596435547) rotate(0 81.26979064941406 23.915283203125)"><path d="M-1.26 -0.49 C37.33 1.43, 78.04 -0.93, 161.64 0.09 M-0.92 -0.03 C51.13 -0.29, 104.19 0.22, 162.07 -0.71 M162.76 -0.37 C163.28 10.53, 161.65 22.99, 164.52 47.43 M161.64 -0.96 C162.52 9.4, 162.31 19.11, 162.41 48.44 M163.99 49.77 C99.89 49.69, 40.55 47.22, 1.21 49.24 M163.19 48.62 C101.62 49.46, 41.86 49.18, 0.68 47.64 M-0.37 47.48 C-0.26 37.36, -0.24 28.34, -1.21 1.76 M0.83 48.19 C0.79 35.05, 0.02 24.28, 0.53 0.86" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-linecap="round"><g transform="translate(1457.8913574218743 725.1022747127572) rotate(0 52.120531900469246 2.085115804961845)"><path d="M0.35 0.29 C17.71 1.24, 87.55 4.25, 105.16 4.77 M-0.92 -0.6 C16.14 0.09, 86.23 2.2, 103.97 3.04" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1457.8913574218743 725.1022747127572) rotate(0 52.120531900469246 2.085115804961845)"><path d="M75.9 11.46 C87.74 9.31, 96.52 6.26, 103.88 1.71 M75.13 11.62 C85.26 9.96, 92.6 7.07, 104.49 2.15" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1457.8913574218743 725.1022747127572) rotate(0 52.120531900469246 2.085115804961845)"><path d="M76.67 -9.05 C88.05 -3.27, 96.54 1.59, 103.88 1.71 M75.9 -8.88 C85.74 -4.12, 92.84 -0.59, 104.49 2.15" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round" transform="translate(10 629.4722442626953) rotate(0 925.7829284667969 177.2345733642578)"><path d="M-0.52 -0.01 C577.77 4.38, 1155.02 4.7, 1850.94 -0.06 M-0.27 -0.4 C526.74 -3.89, 1054.48 -3.63, 1851.53 -0.33 M1851.56 0.59 C1848.77 136.87, 1849.5 272.68, 1851.68 354.62 M1851.34 -0.44 C1851.78 84.53, 1852.03 167.28, 1851.69 354.78 M1851.69 355.19 C1230.17 358.12, 608.61 358.86, 0.74 354.16 M1851.76 354.29 C1379.05 352.89, 905.63 353.28, -0.28 354.58 M0.59 354.07 C-0.36 226.39, -0.77 97.58, 0.41 0.9 M-0.54 354.49 C-1.76 247.01, -1.93 139.7, 0 -0.42" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(27.479729788643738 1020.7773066929412) rotate(0 369 50)"><text x="0" y="14" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">What was interesting here is that we flipped the control, created hooks for the changes </text><text x="0" y="34" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">traversal and only when specific scanners subscribed to specific hooks they were triggered. </text><text x="0" y="54" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="74" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">This allowed us to write and test scanners in a very stand alone and pure fashion without </text><text x="0" y="94" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">thinking about git, opening files, saving artifacts or handling errors.</text></g><g stroke-linecap="round" transform="translate(1003.9555404905291 451.82518731980133) rotate(0 56.231723361545164 66.30961100260419)"><path d="M-1.82 -0.38 C33.8 0.97, 65.31 0.77, 113.21 1.66 M0.8 0.32 C39.2 -0.38, 75.83 0.77, 111.54 -0.03 M113.78 0.83 C114.76 34.65, 113.16 69.63, 112.05 132.39 M113.01 0.68 C112.76 41.68, 113.01 85.99, 113.27 131.68 M111.95 131.69 C89.07 133.72, 63.35 131.27, 0.39 132.09 M112.28 132.68 C75.82 131.92, 38.56 133.33, 0.1 132.39 M0.86 132.52 C0.02 87.75, -1.75 44.05, -1.19 -0.5 M-0.11 133.39 C0.35 92.24, -0.83 52.17, -0.64 0.72" stroke="#000000" stroke-width="1" fill="none"></path></g><g stroke-linecap="round"><g transform="translate(1133.211386302161 525.5954645550445) rotate(0 110.7874765590268 -47.6963793408643)"><path d="M0.93 -0.29 C37.97 -15.83, 184.9 -77.64, 221.62 -93.25 M-0.05 -1.48 C36.93 -17.38, 184.11 -79.89, 220.87 -95.11" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1133.211386302161 525.5954645550445) rotate(0 110.7874765590268 -47.6963793408643)"><path d="M198.38 -74.1 C205.12 -79.86, 209.32 -86.37, 222.44 -96.7 M198.42 -74.36 C206.48 -81.41, 213.37 -87.77, 221 -94.94" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1133.211386302161 525.5954645550445) rotate(0 110.7874765590268 -47.6963793408643)"><path d="M190.43 -93.02 C199.13 -94.19, 205.28 -96.05, 222.44 -96.7 M190.47 -93.28 C201.22 -93.95, 210.79 -93.94, 221 -94.94" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(1030.5237371051123 499.0003989083432) rotate(0 29.5 20)"><text x="0" y="14" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">Results</text><text x="0" y="34" font-family="Virgil, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">service</text></g><g stroke-linecap="round"><g transform="translate(1090.8266071137928 434.1584257095584) rotate(0 25.953752551670846 -45.67495922342766)"><path d="M0.12 1.18 C8.62 -14.18, 42.32 -77.15, 51.04 -92.53 M-1.27 0.75 C7.58 -14.45, 44.34 -75.8, 53.18 -91.46" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1090.8266071137928 434.1584257095584) rotate(0 25.953752551670846 -45.67495922342766)"><path d="M49.79 -63.75 C48.05 -70.43, 52.03 -81.04, 53.62 -92.45 M48.19 -61.76 C48.21 -68.11, 50.86 -75.27, 54.05 -91.19" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1090.8266071137928 434.1584257095584) rotate(0 25.953752551670846 -45.67495922342766)"><path d="M32.07 -74.1 C35.67 -77.66, 45.01 -85.14, 53.62 -92.45 M30.47 -72.11 C34.46 -76, 41.1 -80.83, 54.05 -91.19" stroke="#000000" stroke-width="1" fill="none"></path></g></g></svg>